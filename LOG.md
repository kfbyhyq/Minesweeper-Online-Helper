# Minesweeper Online Helper 在线扫雷网（WoM）助手
https://minesweeper.online/

## v1.0
### 基础功能

插件有三个按钮，在对应页面点击按钮提取信息

1. 刷新宝石/场币价格：

   作用页面：商店主页

   功能：提取页面宝石、竞技场币、装备碎片当前最低市场价

   输出：csv文件
   
2. 刷新竞技场门票价格：

   作用页面：竞技场主页

   功能：提取所有竞技场门票（必须是当前账号拥有的）当前最低市场价

   输出：csv文件
   
3. 刷新个人数据：

   作用页面：我的主页（需要中文）(别人的主页也行)

   功能：提取账号现有资源

   输出：csv文件

### v1.1

个人数据新增装备加成值

## v2.0

增加独立主页，结果整合在页面上，废弃csv文件输出

新增活动任务分析功能，预测下一任务

## v3.0

1. 重做主页

   新增标题栏和导航栏
   
   导航栏将功能分为“游戏数据”、“当前市价”、“资源数据”、“完美装备”、“活动竞技场”（4n+1月）、“活动任务”（4n月），以及一个“刷新数据”按钮。

   游戏数据采集statistics页个人数据，每天的数据保存一个条目，相减得出每日增量。

   当前市价新增竞技场门票使用与出售的价值比较。

   资源数据分为四个表显示，竞技场门票数量新增对可能存在的活动竞技场的支持。

2. 活动竞技场页

   记录活动竞技场门票价格，分为最新数据和历史价格
   
   最新数据可自动刷新（需要账号中有对应的竞技场门票）或手动刷新：点击对应最低价对应位置，输入值后回车，或批量输入点击“手动刷新”按钮。

   历史数据类似游戏数据，记录每日数据列在表中。

3. 自动刷新功能

   新增定时器，每天固定时间触发导航栏的“刷新数据”和活动竞技场的“自动刷新价格”按钮。目前必须打开插件主页且浏览器窗口被激活才能成功刷新，有待进一步设计。

- Todo 

   ~~考虑当前市价显示的竞技场门票也支持点击表格手动更新，由于表格较大，可能会比较混乱。~~

   ~~设置页面，包括个人id和自动刷新开关、时间等。~~

### v3.1

- 新增

   每个条目下的“打开页面”按钮

   设置页：账号设置、自动刷新、数据备份与恢复

   自动刷新可选择开关，时间可设置

- 改动

   必须设置id后才能刷新个人数据
   
   收到数据后页面的更新方式

   优化函数、统一语句风格

### v3.2

- 新增

   个人数据页新增奖杯信息

- 改动

   资源数据页改名为个人数据页

   修正竞技场门票价值的计算错误

- Todo

   ~~个人信息页无宝石、场币、装备等条目时的错误保护~~

### v3.3

- 新增

   友谊任务页面

   个人数据页奖杯栏新增奖杯变化历史

   奖杯明细增加级别
   
- 改动

   日期改为UTC，更适合网站更新周期

   竞技场收益比较方式

   一些语句

### v3.4

- 新增

   友谊任务数据统计排序功能

- 改动

   个人信息页条目不全也能正确录入

   小数输出格式

### v3.4.1

- 新增

   友谊任务可以手动修改昨天的活跃度

   友谊任务总统计可以展开和收起

- 改动

   一些bug

   一些ui

   一些保护

### v3.5

- 新增

   个人数据资源栏增加功勋点

- 改动

   活动竞技场统计跟随网站活动改动变化

   友谊任务页面结束后两天内保持可见

   恢复数据的合并方式

### v3.5.1

- 新增

   个人财产估值统计与每日变化

### v3.5.2

- 改动

   竞技场门票采集方式更新，无需持有门票，从市场读取

   竞技场门票价格采集失败的条目不再显示0，和上一个结果保持一致

### v3.5.3

- 改动

   竞技场门票刷新方式可以在设置中选择前台或后台：前台需要插件主页处于前台，耗时约50秒；后台无限制，耗时约170秒。

### v3.6

- 新增

   活动商店页，列举当前活动物品兑换不同项目的参考价值。

### v3.6.1

- 改动

   竞技场门票价格采集方式重写，利用setInterval循环调用+递归

   游戏经济刷新逻辑小改

### v3.6.2

- 改动

   插件弹出页的各按钮加了对应页面的高亮和错误页面的保护，只有在对应页面才能点击

### v3.7

- 改动

   自动刷新按钮会包含活动竞技场或友谊任务 

### v3.7.1

- 改动

   每日财产变化的显示问题：1000K -> 1M ; 1 -> +1

   在个人资源中统计活动竞技场门票时统一不同活动的获取

### v3.7.2

- 改动

   活动竞技场页功能完善，修bug

   门票价值计算方式更新

### v3.7.3

- 新增

   用于比较的数字按色阶设置背景色

- 改动

   竞技场门票价值部分将收益和比率拆成两个表

   提取门票价格加一次检查，匹配成功才会录入

### v3.7.4

- 新增

   完美装备升级参照表

   竞技场门票价值部分增加净收益/时间表

   设置页增加盲扫和效率系数

### v3.7.5

- 新增

   计算竞技场收益时的活跃转化度和活动物品价值可配置

### v3.7.6

- 新增

   从装备页面提取装备加成情况，门票价值计算使用完成的加成结果

### v3.8

- 新增

   观测历史价格功能，可在下拉菜单中选择宝石/场币/竞技场门票种类/竞技场门票等级

   可以修改单个数据

### v3.8.1

- 改动

   活动竞技场历史价格添加色阶和修改单个数据功能

### v3.8.2

- 改动

   优化控制台输出，添加收到数据时间

### v3.9.0

- 新增

   好友页与添加好友功能

### v3.9.1

- 新增

   可以通过输入uid添加好友，支持排序和删除

### v3.9.2

- 改动

   版面布局兼容更多窗口尺寸

### v3.9.3

- 新增

   统计3BV分布功能

### v3.9.4

- 改动

   管理好友时清空文字

   好友页面排版

### v3.9.5

- 新增

   BVPB功能
   
- 改动

   各竞技场的用时系数可以单独配置

### v3.9.6

- 改动

   BVPB添加重新统计、备份等功能

### v3.9.7

- 改动

   计算门票收益时的功勋点价值可配置

   好友页点击昵称和uid可直接复制

### v3.9.8

- 新增

   个人数据页可展开显示每日宝石、场币、金币、功勋变化

- 改动

   历史价格页默认不显示，选择后展开

### v3.9.9

- 新增

   友谊任务提取全部键

### v3.9.10

- 新增

   活动商店页添加完美线，个人数据补充活动物品的提取
   
### v3.9.11

- 新增

   BVPB添加盲扫数据，点击“重新统计”更新

- 改动

   财产估值的总财产变化从原页面提取
   
   友谊任务页添加一些转化率、收发比的计算和E数量的统计

   完美线增加更多条目，没达标的变色

### v3.9.12

- 新增

   友谊任务添加“只看好友/不看好友/查看全部”选项

   BVPB添加PK功能
   
- 改动

   为每项刷新数据添加单独的刷新按钮

   友谊任务的“刷新首页”改为“刷新五页”

   完美线添加“剩余每日”列

   提取个人数据添加当前账号昵称

### v3.9.12.1

- 改动

   统计我的游戏时无需保持插件弹出页开启，弹出页和主页至少有一个开启即可

   添加“统计我的游戏（500页）”按钮
   
### v3.9.13

- 新增

   友谊任务页新增收任务统计树状图

### v3.10.0

- 新增

   帮助页，在插件中显示README.md的内容

   当前市价页添加拆解收益统计

- 改动

   提取市场首页价格后会提取每一种完美碎片价格

   BVPB在局数后添加一列求和
   
### v3.10.1

- 新增

   历史价格增加装备碎片选项
   
### v3.11.0

- 新增

   命运转盘页，根据已出任务分析后续转盘可能的选项

### v3.11.0.1

- 改动

   恢复数据bug修复
   
### v3.11.1

- 新增

   观测3BV/s和观测效率功能，在游戏页面生效，点击后进行游戏或播放录像，生成每秒bvs或每次点击实时估计效率曲线，不要同时点

### v3.11.1.2

- 改动

   完美线新增一行自定义目标
   
   完美线中剩余每日计算错误修复
   
   修复好友排序后无法复制的bug
   
### v3.11.1.3

- 改动

   修复装备加成每日表记录

   修复历史价格中手动修改数据时竞技场门票错位的bug

### v3.11.2

- 新增

   BVPB（改名为PB数据）新增每日PB模块，点击重新统计生成

### v3.11.3

- 新增

   更改主题功能，可以从设置中选择不同配色主题，支持自定义

- 改动

   全球任务的分析活动任务功能优化提取逻辑，不再受页面元素排序影响