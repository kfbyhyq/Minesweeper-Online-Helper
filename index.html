<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minesweeper Online Helper</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <!-- 标题栏 -->
    <div id="header">
        <h1>Minesweeper Online Helper</h1>
    </div>

    <div id="container">
        <!-- 导航栏 -->
        <div id="navbar">
            <a href="#" id="nav-statistic">游戏数据</a>
            <a href="#" id="nav-price">当前市价</a>
            <a href="#" id="nav-resource">个人数据</a>
            <a href="#" id="nav-eventShop">活动商店</a>
            <a href="#" id="nav-perfect">完美装备</a>
            <a href="#" id="nav-eventArena" class="event" style="display: none;">活动竞技场</a>
            <a href="#" id="nav-friendQuest" class="event" style="display: none;">友谊任务</a>
            <a href="#" id="nav-eventQuest" class="event" style="display: none;">全球任务</a>
            <a href="#" id="update">刷新数据</a>
            <a href="#" id="nav-setting">设置</a>
        </div>
        <!-- 占位符 -->
        <div id="navbar0"></div>

        <!-- 内容区域 -->
        <div id="content">
            <div id="statistic" class="page">
                <h1>游戏数据</h1>
                <button id="statisticPage">打开我的数据统计</button><br><br>
                <div id="flag5" style="display:none;">0</div>
                <table id="table5"></table>
                <h1>每日数据</h1>
                <table id="statisticDaily" class="ticketTable"></table>
                <div id="noStDaily" style="display:none; font-size: 16px;">暂无每日数据</div><br><br>
            </div>
            <div id="price" class="page active">
                <h1>宝石/竞技场币/碎片价格</h1>
                <button id="marketPage">打开市场页</button><br><br>
                <div id="flag1" style="display:none;">0</div>
                <span class="plainText">所有价格均为上一次刷新的市场最低价，完美碎片价格为价格最低的一类。</span><br><br>
                <table id="table1" class="noempty"></table>
                <h1>竞技场门票价格</h1>
                <button id="arenaPage">打开竞技场页</button><br><br>
                <div id="flag2" style="display:none;">0</div>
                <table id="table2" class="ticketTable noempty"></table>
                <h1>竞技场门票收益参考</h1>
                <span class="plainText">门票收益估值不包括对局中的收益，仅为参考值，不代表实际收益。</span><br>
                <span class="plainText">收益考虑了装备加成，其中场币价格以市场最低价为准，活跃度和活动物品的价值可在设置页配置，功勋价值参考值为56.6金币。</span><br>
                <span class="plainText">门票开销为市场最低价，精英开销为市场最低价加升级花费的功勋价值。</span><br>
                <span class="plainText">净收益为收益减开销，时间为竞技场需要完成的平均难度，其中盲扫和效率由系数加权，可在设置页配置。</span><br>
                <span class="plainText">净收益/时间可以近似理解为：每花费相当于一局初级的时间能获得的金币。</span><br><br>
                <div class="flexContent">
                    <div class="fqContentSon">
                        <div class="atv" id="atv1">最赚</div>
                        <div class="atv" id="atv2">次赚</div>
                        <div class="atv" id="atv3">卖掉赚</div><br><br>
                        <table id="tableArenaValue" class="ticketTable0"></table><br><br>
                    </div>
                    <div class="fqContentSon">
                        <div class="atv" id="atv4">最赚</div>
                        <div class="atv" id="atv5">最亏</div><br><br>
                        <table id="tableArenaRate" class="ticketTable0"></table><br><br>
                    </div>
                    <div class="fqContentSon">
                        <div class="atv" id="atv4">最赚</div>
                        <div class="atv" id="atv5">最亏</div><br><br>
                        <table id="tableArenaTimeRate" class="ticketTable0"></table><br><br>
                    </div>
                </div>
            </div>
            <div id="resource" class="page">
                <div id="flag3" style="display:none;">0</div>
                <h1>总资源数</h1>
                <button id="playerPage">打开我的主页</button><br><br>
                <div id="flagPe" style="display:none;">0</div>
                <table id="table3-1"></table>
                <h1>明细</h1>
                <table id="table3-2"></table>
                <br>
                <table id="table3-3" class="ticketTable"></table>
                <h1>装备加成</h1>
                <button id="equipmentPage">打开装备页</button><br><br>
                <div id="flagEquip" style="display:none;">0</div>
                <table id="table3-4"></table>
                <h1>财产估值</h1>
                <button id="personEcoPage">打开游戏经济页</button>
                <span class="blank"></span>
                <button id="showPeDaily">展开财产变化</button><br><br>
                <div id="showPedFlag" style="display:none;">0</div>
                <table id="tablePe"></table><br>
                <table id="peDaily" class="ticketTable" style="display:none;"></table>
                <div id="noPeDaily" style="display:none; font-size: 16px;">暂无财产历史数据</div>
                <h1>奖杯</h1>
                <!-- <div class="atv">总奖杯数：</div><div class="atv" id="tropNum"></div><div class="atv">排名：</div><div class="atv" id="tropRank"></div> -->
                <table id="tableTrophy" class="noempty"></table><br><br>
            </div>
            <div id="eventShop" class="page">
                <h1>活动商店兑换参考</h1>
                <button id="eventPage">打开活动页</button><br><br>
                <span class="plainText">所有价格为估计值或期望，仅供参考。数据通过当前市场最低价计算。</span><br>
                <span class="plainText">功勋为固定的参考值，不考虑代币售价；宝石以最贵的一项为准；门票包为平均值；所有装备均为拆解碎片价。</span><br><br>
                <table id="tableEventShop" class="ticketTable widthSet"></table>
            </div>
            <div id="perfect" class="page">
                <h1>完美装备制作信息</h1>
                <button id="equipmentPage">打开装备页</button><br><br>
                <span class="plainText">金币需求：1 000 000</span><br>
                <span class="plainText">宝石需求：5 000</span><br>
                <span class="plainText">竞技场币需求：1 000</span><br><br>
                <table id="table4" class="ticketTable noempty"></table><br><br>
                <span class="plainText">推荐升级顺序：活动物品 -> 赛季任务 -> 每日任务 -> 活跃度</span><br><br>
                <table id="perfectUpgrade" class="ticketTable"></table><br>
            </div>
            <div id="eventArena" class="page">
                <h1>活动竞技场门票价格</h1>
                <div id="noEap" style="display:none; font-size: 16px;">暂无活动竞技场价格数据</div>
                <button id="updateEa1">自动刷新价格</button>
                <div id="flagEa" style="display:none;">0</div>
                <span class="blank"></span>
                <button id="updateEa2">手动刷新价格</button><br><br>
                <span class="plainText">点击票价可手动修改，按enter或点击“手动刷新价格”保存</span><br><br>
                <div class="divSet eaSet">
                    <div class="eaText">等级</div>
                    <div class="eaText">L1</div>
                    <div class="eaText">L2</div>
                    <div class="eaText">L3</div>
                    <div class="eaText">L4</div>
                    <div class="eaText">L5</div>
                    <div class="eaText">L6</div>
                    <div class="eaText">L7</div>
                    <div class="eaText">L8</div>
                </div>
                <div class="divSet eaSet">
                    <div class="nonedit">最低价</div>
                    <div class="editable" data-index="0"><span id="value0">0</span></div>
                    <input type="text" class="hidden" id="input0">
                    <div class="editable" data-index="1"><span id="value1">0</span></div>
                    <input type="text" class="hidden" id="input1">
                    <div class="editable" data-index="2"><span id="value2">0</span></div>
                    <input type="text" class="hidden" id="input2">
                    <div class="editable" data-index="3"><span id="value3">0</span></div>
                    <input type="text" class="hidden" id="input3">
                    <div class="editable" data-index="4"><span id="value4">0</span></div>
                    <input type="text" class="hidden" id="input4">
                    <div class="editable" data-index="5"><span id="value5">0</span></div>
                    <input type="text" class="hidden" id="input5">
                    <div class="editable" data-index="6"><span id="value6">0</span></div>
                    <input type="text" class="hidden" id="input6">
                    <div class="editable" data-index="7"><span id="value7">0</span></div>
                    <input type="text" class="hidden" id="input7">
                </div>
                <table class="eaRate eaSet" id="eaRateTable"></table>
                <h1>历史价格</h1>
                <div id="flagEa" style="display:none;">0</div>
                <table id="tableEa" class="ticketTable"></table>
                <div id="noEapDaily" style="display:none; font-size: 16px;">暂无历史价格数据</div>
            </div>
            <div id="friendQuest" class="page">
                <h1>总统计</h1>
                <button id="friendQuestPage">打开友谊任务页</button>
                <div id="flagFq" style="display:none;">0</div>
                <button id="updateFq">刷新任务</button>
                <div id="detailFlag" style="display:none;">0</div>
                <button id="detailFq">展开详情</button><br><br>
                <table id="shortTableFqStats"  class="noempty sortTable">
                    <thead>
                        <tr>
                            <th>id</th>
                            <th>发任务数</th>
                            <th>发任务等级</th>
                            <th>收任务数</th>
                            <th>收任务等级</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
                <table id="tableFqStats" class="noempty sortTable" style="display:none;">
                    <thead>
                        <tr>
                            <th data-index="0">id</th>
                            <th data-index="1">发任务数</th>
                            <th data-index="2">发任务等级</th>
                            <th data-index="3">收任务数</th>
                            <th data-index="4">收任务等级</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
                <h1>每日数据</h1>
                <input id="lastActNew" class="inputBox inputBlank">
                <button id="updateLastAct">更新昨日活跃度</button><br><br>
                <table id="tableFqDaily" class="ticketTable"></table>
                <div class="flexContent">
                    <div class="flexContentSon">
                        <h1>发任务</h1>
                        <table id="tableFqs" class="questTable"></table>
                    </div>
                    <div class="flexContentSon">
                        <h1>收任务</h1>
                        <table id="tableFqr" class="questTable"></table>
                    </div>
                </div>
            </div>
            <div id="eventQuest" class="page">
                <button id="updateEq">活动任务分析</button>
                <div id="flag4" style="display:none;">0</div>
                <span class="blank"></span>
                <button id="eventQuestPage">打开活动任务页</button>
                <div id="eqInfo">...</div>
            </div>
            <div id="setting" class="page">
                <h1>账号设置</h1>
                <span class="plainText">当前登录账号uID（个人主页网址中的数字）：</span><input id="personalId" class="inputBox inputBlank"><span id="pIdNow" style="display:none"></span>
                <h1>参数设置</h1>
                <span class="plainText">活跃度转化率（默认2.5）：</span><input id="act2ep" class="inputBox inputBlank"><span class="plainText">活动物品/活跃度</span><br>
                <span class="plainText">活动物品估价（默认56.6）：</span><input id="ep2mc" class="inputBox inputBlank"><span class="plainText">金币/活动物品</span><br>
                <span class="plainText">盲扫系数（默认0.75）：</span><input id="nfCoef" class="inputBox inputBlank"><span class="plainText">盲扫平均速度/标旗平均速度</span><br>
                <span class="plainText">效率系数（默认0.75）：</span><input id="effCoef" class="inputBox inputBlank"><span class="plainText">100%+效率平均速度/标旗平均速度</span><br>
                <span class="plainText">两系数仅为参考值，用于竞技场门票时间估计，可用高级/中级的对应pb近似计算。</span>
                <h1>自动刷新</h1>
                <div class="inRow">
                    <span class="plainText">自动刷新数据</span>
                    <label class="switch">
                        <input type="checkbox" id="toggleSwitch1">
                        <span class="slider"></span>
                    </label>
                </div><br>
                <span class="plainText">每日更新时间：</span>
                <select id="hourSelect1" class="inputBox"></select>
                <span class="plainText">点</span>
                <select id="minuteSelect1" class="inputBox"></select>
                <span class="plainText">分</span>
                <select id="secondSelect1" class="inputBox"></select>
                <span class="plainText">秒</span>
                <br><br>
                <div class="inRow">
                    <span class="plainText">门票价格后台刷新（会更慢）</span>
                    <label class="switch">
                        <input type="checkbox" id="toggleSwitchAt">
                        <span class="slider"></span>
                    </label>
                </div><br>
                <div class="inRow">
                    <span class="plainText">自动刷新活动竞技场价格</span>
                    <label class="switch">
                        <input type="checkbox" id="toggleSwitch2">
                        <span class="slider"></span>
                    </label>
                </div><br>
                <span class="plainText">每日更新时间：</span>
                <select id="hourSelect2" class="inputBox"></select>
                <span class="plainText">点</span>
                <select id="minuteSelect2" class="inputBox"></select>
                <span class="plainText">分</span>
                <select id="secondSelect2" class="inputBox"></select>
                <span class="plainText">秒</span>
                <br><br>
                <div class="inRow">
                    <span class="plainText">自动刷新友谊任务</span>
                    <label class="switch">
                        <input type="checkbox" id="toggleSwitch3">
                        <span class="slider"></span>
                    </label>
                </div><br>
                <span class="plainText">每日更新时间：</span>
                <select id="hourSelect3" class="inputBox"></select>
                <span class="plainText">点</span>
                <select id="minuteSelect3" class="inputBox"></select>
                <span class="plainText">分</span>
                <select id="secondSelect3" class="inputBox"></select>
                <span class="plainText">秒</span>
                <br><br>
                <div class="inRow">
                    <button id="saveSetting">保存</button><span id="saveSucc" class="plainText" style="display:none">保存成功！</span>
                </div>
                <h1>数据备份与恢复</h1>
                <button id="backupButton">备份数据</button><br><br>
                <button id="restoreButton">恢复数据</button>
                <input type="file" id="restoreInput" style="display:none" accept=".json" /><br>
            </div>
        </div>
    </div>
    
    <script src="index.js"></script>
    <script src="display.js"></script>
    <script src="update.js"></script>
    <script src="eventArena.js"></script>
    <script src="friendQuest.js"></script>
</body>
</html>